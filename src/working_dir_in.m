function working_dir_in() % autogenerated function wrapper
 % turned into function by Celso G Reyes 2017
 
ZG=ZmapGlobal.Data; % used by get_zmap_globals
zmap_message_center.set_info('Message','Please set my_dir to your working directory!!!!');
report_this_filefun(mfilename('fullpath'));

% make the interface
%
fignum = figure_w_normalized_uicontrolunits(...
    'Name','Enter your working directory',...
    'NumberTitle','off', ...
    'MenuBar','none', ...
    'NextPlot','new', ...
    'units','points',...
    'Visible','off', ...
    'Position',[ ZG.wex+100 ZG.wey-100 250 100]);
axis off


my_dir_field=uicontrol('Parent', fignum,...
    'Style','edit',...
    'Units','normalized',...
    'Position',[.05 .50 .90 .20],...
    'callback',@callbackfun_001);


done_button=uicontrol('Parent', fignum,...
    'Style','Pushbutton',...
    'Units','normalized',...
    'Position',[.40 .05 .30 .20 ],...
    'callback',@callbackfun_002,...
    'String','Done');


text(...
    'Color',[0 0 0 ],...
    'Position',[0.05 .90 0 ],...
    'FontSize',ZmapGlobal.Data.fontsz.m ,...
    'FontWeight','bold',...
    'String','Please enter your working directory');

try
    cd (my_dir)
catch ME
    error_handler(ME); % @do_nothing
end

set(gcf,'visible','on');

function callbackfun_001(mysrc,myevt)
  % automatically created callback function from text
  callback_tracker(mysrc,myevt,mfilename('fullpath'));
  my_dir=my_dir_field.String;
   my_dir_field.String=my_dir;
end
 
function callbackfun_002(mysrc,myevt)
  % automatically created callback function from text
  callback_tracker(mysrc,myevt,mfilename('fullpath'));
  close;
  done;
end
 
end
