function plorem(onesigma, aw, bw) % autogenerated function wrapper
    %
    % works on ZG.newt2
    % turned into function by Celso G Reyes 2017
    
    ZG=ZmapGlobal.Data; % used by get_zmap_globals
    report_this_filefun(mfilename('fullpath'));
    tr2 = [];
    tr2u = [];
    tr2l = [];
    deltaT=max(ZG.newt2.Date) - min(ZG.newt2.Date); %teb - t0b
    for m = max(ZG.newt2.Magnitude) -1 : 0.1 : max(ZG.newt2.Magnitude) + 2
        %set onesigma to 0 if not defined
        if isempty(onesigma)
            onesigma=0;
        end
        
        tr = deltaT/(10^(aw-bw*m));
        tru = deltaT/(10^(aw-(bw+onesigma)*m));
        trl = deltaT/(10^(aw-(bw-onesigma)*m));
        tr2 = [tr2 ; tr  m];
        tr2u = [tr2u ; tru  m];
        tr2l = [tr2l ; trl  m];
    end
    
    %plot recurrence interval
    fig=figure('Name',[ZG.newt2.Name, ': Recurrence Interval']);
    ax=axes(fig);
    pl =  plot(ax,years(tr2(:,2)), years(tr2(:,1)),'k');
    set(pl,'LineWidth',2.0)
    hold on
    grid
    set(ax,'Yscale','log');
    
    set(ax,'box','on',...
        'SortMethod','childorder','TickDir','out','FontWeight',...
        'bold','FontSize',ZmapGlobal.Data.fontsz.m,'Linewidth',1.2,'Ticklength',[0.02 0.02])
    
    ylabel(ax,'Recurrence Time [yrs] ')
    xlabel(ax,'Magnitude ')
    set(fig,'color','w');set(ax,'color','w');
    
    
    
    % plot annual probablity
    fig=figure('Name',[ZG.newt2.Name, ': Annual Probablity']);
    ax=axes(fig);
    pl =  plot(ax,tr2(:,2),1./years(tr2(:,1)),'k');
    set(pl,'LineWidth',2.0)
    hold on
    grid
    set(ax,'box','on',...
        'SortMethod','childorder','TickDir','out','FontWeight',...
        'bold','FontSize',ZmapGlobal.Data.fontsz.m,'Linewidth',1.,'Ticklength',[0.02 0.02])
    xlabel(ax,'Magnitude ')
    set(ax,'Yscale','log');
    ylabel(ax,'Annual Probability ')
    
    set(fig,'color','w');set(ax,'color','w');
    
end
